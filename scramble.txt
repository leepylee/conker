
func main()
  num[] heights
  num height = 0
  for x to 4000
    if rnd(10) > 4 and height < 500
      height++
    else if height > 2
      height--
    end
    add heights, height
  end
  console false

  num x = 0

  // fps
  num timeOld = now()
  num frame
  num totalTime    
end

func draw()
  style FILL
  paint PINK
  for i to 300
    num h = heights[i + x]
    rect i * 5, SCREENH - h * 5, (i * 5) + 4, SCREENH
  end
  x++

  // fps
  frame++
  num timeNow = now()
  num fps = 1000 / (timeNow - timeOld)
  totalTime += fps
  if frame > 10
    textsize 50
    paint RED
    num avg = round(totalTime/frame)
    text MIDX, MIDY, avg + ' ' + qty
  end
  timeOld = timeNow
end  
