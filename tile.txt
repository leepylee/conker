func main()
  num[] sprites
  for x to 10
    bitmap b, 16, 16
    canvasmap b
    paint 255, rnd(255), rnd(255), rnd(255)
    line 0,0,15,15
    line 0,15,15,0
    add sprites, b
  end

  num worldX = 10
  num worldY = 10
  num screenWidthX = 5
  num screenWidthY = 5

  num[] tiles
  for y to worldY
    for x to worldX
      add tiles, sprites[rnd(10)]
    end
  end

  num tileX
  num tileY

  num tileh = 100
  num tilew = 100

  num pixelx 
  num pixely
end

func draw()
  num ty = tileY
  num sy = 0
  while ty < worldY and sy < screenHeightY
    num tx = tileX
    num sx = 0
    while tx < worldY and sx < screenWidthY
	    num b = tiles[tx + ty * worldX]
       drawbitmap b, sx * tilew - pixelx, sy * tileh - pixely
      sx++
      tx++
    end
    sy++
    ty++
  end
  pixelx++
  if pixelx > tilew
    tx++
  end    
end